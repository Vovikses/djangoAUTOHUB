{% extends "main/product/base.html" %}
{% load static %}

{% block title %}
  {% if category %}
    {{ category.name }}
  {% else %}
    AUTOHUB
  {% endif %}
{% endblock %}

{% block content %}
  <link rel="stylesheet" href="{% static 'main/list.css' %}">

  <div class="header-container">
    <h1 class="page-title">
      {% if category %}
        {{ category.name }}
      {% else %}
        Всі товари
      {% endif %}
    </h1>

    <div class="dropdown">
      <button class="btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton">
        Сортування
      </button>
      <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        <li><a class="dropdown-item" href="?sort=name">За назвою (А-Я)</a></li>
        <li><a class="dropdown-item" href="?sort=-name">За назвою (Я-А)</a></li>
        <li><a class="dropdown-item" href="?sort=price">Ціна (дешевші)</a></li>
        <li><a class="dropdown-item" href="?sort=-price">Ціна (дорожчі)</a></li>
      </ul>
    </div>
  </div>

  {% if not products %}
    <div class="alert-info">
      <i class="bi bi-info-circle"></i>
      Товари цієї категорії відсутні
    </div>
  {% else %}
    <div class="products-grid">
      {% for product in products %}
        <div class="product-card">
          <a href="{{ product.get_absolute_url }}" class="product-link">
            <div class="product-image-container">
              <img src="{{ product.image.url }}" class="product-image" alt="{{ product.name }}">
            </div>
            
            <div class="product-info">
              <h3 class="product-title">{{ product.name }}</h3>
              
              <div class="product-status">
                <i class="bi bi-check-circle-fill"></i>
                <span>Готовий до відправки</span>
              </div>
              
              <div class="product-price">{{ product.price }} ₴</div>
            </div>
          </a>
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endblock %}